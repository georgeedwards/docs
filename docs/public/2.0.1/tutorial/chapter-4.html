<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <meta http-equiv="cache-control" content="max-age=0" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="expires" content="0" />
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
<meta http-equiv="pragma" content="no-cache" />

    <!-- Basic -->
    <title>Chapter 4—NativeScript Modules | Nativescript Docs</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="../images/favicon.png" sizes="16x16 32x32 64x64">

    <!-- Social -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="http://docs.nativescript.org">
    <meta property="og:title" content="Chapter 4—NativeScript Modules | Nativescript Docs">
    <meta property="og:description" content="">
    <meta property="og:image" content="">
    <meta name="twitter:card" content="summary_image_large">
    <meta name="twitter:site" content="@nativescript">
    <meta name="twitter:title" content="Chapter 4—NativeScript Modules | Nativescript Docs">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="">

    <!-- Misc -->
    <meta name="google-site-verification" content="" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,200,300italic,400italic' rel='stylesheet' type='text/css'>
    <link href='https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/style/style.css">
    <link rel="stylesheet" href="/style/tabs.css">
  </head>
  <body class="">
    

<div class="sidebar">
  <div class="panel">
    <div class="panel-item logo">
      <a href="https://docs.nativescript.org/" title="Nativescript Developers" target=_new >
        <img src="../docs/images/icon-white.svg" alt="Nativescript Developers">
        <span>Nativescript Developers</span>
      </a>
    </div>
    
      <div class="panel-item "">
        <a class="" href="https://docs.nativescript.org/tutorial/chapter-0" target=_new >
          <svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160"><g fill="#112B49"><circle cx="80.001" cy="80" r="3"/><path d="M75.73 85.723c.193-.183.316-.437.316-.723 0-.553-.447-1-1-1-.278 0-.528.114-.71.297l-.004-.004-50.9 50.875c-.18.18-.29.43-.29.707-.002.553.445 1 .998 1 .276 0 .526-.112.708-.293l50.883-50.86zM84.235 74.4c-.18.183-.292.433-.292.71 0 .552.446 1 1 1 .275 0 .525-.113.707-.294l50.87-50.89c.204-.184.34-.442.34-.74 0-.552-.448-1-1-1-.276 0-.526.113-.707.294l-.01-.01L84.236 74.4zM136.583 135.184L85.65 84.23c-.182-.18-.432-.293-.708-.293-.552 0-1 .447-1 1 0 .278.114.528.297.71l50.927 50.95c.18.18.43.293.708.293.553 0 1-.447 1-1 0-.276-.11-.525-.292-.706zM111.19 152.602l-.003-.005-.002-.004-27.552-66.507h-.002c-.15-.362-.505-.617-.922-.617-.552 0-1 .446-1 1 0 .135.028.263.077.38v.002l.005.012 27.552 66.504c.15.362.507.617.924.617.553 0 1-.447 1-1 0-.136-.03-.265-.077-.383zM48.873 7.384L76.435 73.93h.002c.15.362.505.617.922.617.552 0 1-.447 1-1 0-.136-.03-.264-.078-.382h.003L50.72 6.616c-.15-.362-.506-.617-.923-.617-.552 0-1 .447-1 1 0 .136.03.265.078.383h-.002zM152.55 48.844h-.002L86.092 76.422c-.36.15-.617.507-.617.924 0 .553.446 1 1 1 .135 0 .265-.028.383-.077L153.32 50.69c.363-.15.618-.507.618-.924 0-.553-.447-1-1-1-.136 0-.265.028-.383.077h-.005zM7.41 111.136h.002l66.492-27.54c.36-.15.616-.507.616-.924 0-.553-.447-1-1-1-.136 0-.264.028-.382.077v-.002l-.004.002c-.002 0-.004 0-.006.002L6.638 109.29c-.36.15-.615.507-.615.924 0 .553.446 1 1 1 .135 0 .264-.028.382-.077h.004zM159 79H87c-.552 0-1 .448-1 1 0 .554.447 1 1 1h72c.553 0 1-.447 1-1s-.447-1-1-1zM23.435 24.85l50.897 50.897.008-.008c.182.18.43.29.707.29.553 0 1-.446 1-1 0-.296-.135-.555-.34-.737L24.85 23.433c-.183-.18-.433-.292-.71-.292-.55 0-.998.448-.998 1 0 .277.11.528.293.71zM6.618 50.657v.002l66.51 27.54c.003 0 .005 0 .007.002l.004.002c.117.048.245.076.38.076.554 0 1-.447 1-1 0-.417-.254-.772-.616-.923v-.002L7.392 48.813H7.39l-.005-.003c-.118-.047-.247-.076-.383-.076-.552 0-1 .447-1 1 0 .417.256.773.618.923zM153.383 109.28l-66.52-27.53-.006-.002c-.118-.048-.248-.076-.384-.076-.552 0-1 .447-1 1 0 .417.256.773.62.923l66.513 27.528c.003 0 .005 0 .007.002l.004.002c.118.048.246.076.382.076.552 0 1-.447 1-1 0-.417-.256-.772-.617-.923zM80 74c.553 0 1-.447 1-1V1c0-.553-.447-1-1-1-.552 0-1 .447-1 1v72c0 .553.447 1 1 1zM80 86c-.552 0-1 .447-1 1v72c0 .553.447 1 1 1s1-.447 1-1V87c0-.553-.447-1-1-1zM77.36 85.47c-.417 0-.772.254-.923.616l-27.564 66.53.002.002c-.05.117-.077.246-.077.382 0 .553.446 1 1 1 .416 0 .772-.255.922-.618h.002L78.28 86.86v-.004l.003-.005c.048-.117.076-.246.076-.382 0-.552-.448-1-1-1zM82.708 74.547c.417 0 .772-.255.923-.618h.003l27.56-66.547h-.004c.048-.12.076-.247.076-.383 0-.553-.447-1-1-1-.416 0-.772.255-.922.618h-.002l-27.56 66.546h.004c-.05.12-.077.247-.077.383-.002.553.445 1 .998 1zM74 80c0-.552-.446-1-1-1H1c-.552 0-1 .447-1 1 0 .553.447 1 1 1h72c.554 0 1-.446 1-1z"/></g></svg>
          <span>Tutorials</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="https://www.nativescript.org/nativescript-is-how-you-build-native-mobile-apps-with-angular"  >
          <svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160"><path fill="#BDA671" d="M80 1.988c43.01 0 78 34.99 78 78s-34.99 78-78 78-78-34.99-78-78 34.99-78 78-78m0-2c-44.183 0-80 35.817-80 80s35.817 80 80 80 80-35.817 80-80-35.817-80-80-80z"/><path fill="#BDA671" d="M126.454 33.545l-37.93 54.98-54.98 37.93 37.93-54.98 54.98-37.93m0-2c-.395 0-.79.116-1.135.354L70.336 69.826c-.2.138-.373.312-.51.51l-37.93 54.98c-.548.796-.45 1.868.232 2.55.386.388.898.587 1.414.587.395 0 .79-.116 1.135-.354l54.98-37.93c.2-.137.373-.31.51-.51l37.93-54.98c.548-.795.45-1.867-.232-2.55-.387-.386-.9-.585-1.414-.585z"/><circle fill="#BDA671" cx="79.999" cy="79.999" r="2.999"/><path fill="#BDA671" d="M135.477 50.182c-.02-.036-.04-.05-.06-.045-.173-.303-.485-.516-.858-.516-.553 0-1 .448-1 1 0 .21.078.394.188.554l-.02.007C138.358 59.766 141 69.57 141 79.99c0 33.636-27.364 61-61 61-10.42 0-20.232-2.634-28.82-7.26l-.005.02c-.144-.08-.3-.14-.478-.14-.552 0-1 .448-1 1 0 .336.176.618.43.8-.016.012-.034.025-.03.027 8.896 4.81 19.078 7.552 29.904 7.552 34.795 0 63-28.206 63-63 0-10.79-2.735-20.93-7.523-29.805zM109.65 24.47c-.002-.02.004-.04-.025-.056-8.83-4.727-18.908-7.426-29.625-7.426-34.794 0-63 28.206-63 63 0 10.79 2.73 20.935 7.514 29.81.005.01.012.004.018.01.17.312.488.532.87.532.552 0 1-.447 1-1 0-.197-.073-.37-.17-.525l.04-.002C21.642 100.223 19 90.41 19 79.988c0-33.636 27.364-61 61-61 10.4 0 20.185 2.634 28.757 7.248.02.01.036.02.055.028.116.047.24.075.37.075.554 0 1-.448 1-1 .002-.382-.22-.7-.533-.87z"/></svg>
          <span>Guide</span>
        </a>
      </div>
    
      <div class="panel-item active"">
        <a class="" href="https://docs.nativescript.org/"  >
          <svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160"><path fill="#DE4F4F" d="M35.6 30.167v5.375h89.8c.553 0 1 .447 1 1v7.375c0 .553-.447 1-1 1H35.6v5.375h89.8c.553 0 1 .447 1 1v7.375c0 .553-.447 1-1 1H35.6v5.375h89.8c.553 0 1 .447 1 1v7.375c0 .55-.447 1-1 1H35.6v5.375h89.8c.553 0 1 .447 1 1v7.375c0 .55-.447 1-1 1H35.6v5.375h89.8c.553 0 1 .447 1 1v7.375c0 .55-.447 1-1 1H35.6v5.375h89.8c.553 0 1 .447 1 1v7.375c0 .55-.447 1-1 1H35.6v5.375h89.8c.553 0 1 .447 1 1v7.375c0 .55-.447 1-1 1H35.6v5.375H80c.552 0 1 .447 1 1v10.873c1.162.413 2 1.51 2 2.816 0 1.657-1.343 3-3 3s-3-1.343-3-3c0-1.305.837-2.402 2-2.815v-9.873H34.6c-.552 0-1-.45-1-1v-7.375c0-.553.448-1 1-1h89.8v-5.375H34.6c-.552 0-1-.45-1-1v-7.375c0-.553.448-1 1-1h89.8v-5.375H34.6c-.552 0-1-.45-1-1v-7.375c0-.553.448-1 1-1h89.8v-5.375H34.6c-.552 0-1-.45-1-1v-7.375c0-.553.448-1 1-1h89.8v-5.375H34.6c-.552 0-1-.45-1-1v-7.375c0-.553.448-1 1-1h89.8v-5.375H34.6c-.552 0-1-.447-1-1v-7.375c0-.553.448-1 1-1h89.8v-5.375H34.6c-.552 0-1-.447-1-1v-7.375c0-.553.448-1 1-1h89.8v-5.375H34.6c-.552 0-1-.447-1-1v-7.375c0-.553.448-1 1-1h89.8v-5.375H34.6c-.552 0-1-.447-1-1s.448-1 1-1h90.8c.553 0 1 .447 1 1v7.375c0 .553-.447 1-1 1H35.6zM138 6.564H22c-1.104 0-2 .896-2 2v144c0 1.104.896 2 2 2h48.995c.258 0 .516-.097.712-.293.39-.39.39-1.022 0-1.413-.195-.195-.45-.293-.707-.293H22v-144h116v144H89.006c-.258 0-.517.097-.713.293-.39.39-.39 1.023 0 1.414.196.198.455.294.713.293H138c1.104 0 2-.895 2-2v-144c0-1.103-.896-2-2-2z"/></svg>
          <span>API Docs</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="https://nativescriptcommunity.slack.com/messages/general/" target=_new >
          <svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160"><path fill="#333" d="M60.025 17.72c7.396 0 14.914 1.424 22.172 4.43 29.594 12.258 43.648 46.188 31.39 75.782-9.25 22.334-30.843 35.812-53.6 35.812-4.694 0-9.437-.574-14.132-1.76L32.44 142.277 30.23 125.51C5.908 111.003-4.74 80.48 6.418 53.538 15.67 31.204 37.266 17.72 60.025 17.72m0-2c-24.363 0-46.13 14.545-55.455 37.053-5.547 13.394-6.06 28.33-1.447 42.052 4.465 13.276 13.414 24.57 25.252 31.896l2.082 15.82c.092.708.557 1.31 1.217 1.585.246.104.506.152.766.152.434 0 .86-.142 1.217-.412l12.656-9.713c4.482 1.055 9.076 1.59 13.674 1.59 24.36 0 46.126-14.543 55.447-37.047 6.135-14.807 6.135-31.115.002-45.922C109.3 37.966 97.77 26.433 82.963 20.3c-7.34-3.04-15.06-4.58-22.938-4.58zM92.69 133.9c.165-.443.614-.683 1.064-.623l.004-.024c5.18.558 10.343.396 15.365-.414v2.034c-5.13.796-10.4.942-15.69.356l.002-.02c-.052-.01-.105-.006-.158-.023-.517-.193-.78-.768-.586-1.287z"/><path fill="#333" d="M100.877 133.604c4.41-.065 8.86-.633 13.268-1.746l13.416 10.295 2.208-16.77c24.324-14.505 34.976-45.03 23.814-71.97-9.248-22.33-30.832-35.81-53.584-35.82v.02c-2.072-.002-4.154.096-6.238.32l-.004-.024c-.45.058-.9-.18-1.064-.625-.194-.518.068-1.093.586-1.286.054-.02.107-.015.158-.026l-.002-.02c2.19-.24 4.377-.348 6.553-.35v-.01c24.36.004 46.12 14.545 55.443 37.054 5.55 13.393 6.062 28.327 1.447 42.05-4.465 13.28-13.414 24.57-25.252 31.897l-2.082 15.818c-.092.71-.557 1.312-1.217 1.586-.246.103-.506.15-.766.15-.435 0-.86-.14-1.218-.412l-12.655-9.713c-4.2.988-8.502 1.502-12.812 1.564l.002-1.986z"/><circle fill="#333" cx="60.019" cy="77" r="3.001"/><circle fill="#333" cx="76.018" cy="77" r="3"/><circle fill="#333" cx="44.019" cy="77" r="3.001"/></svg>

          <span>Slack</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="http://stackoverflow.com/documentation/nativescript/topics" target=_new >
          <svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160"><path fill="#333" d="M60.025 17.72c7.396 0 14.914 1.424 22.172 4.43 29.594 12.258 43.648 46.188 31.39 75.782-9.25 22.334-30.843 35.812-53.6 35.812-4.694 0-9.437-.574-14.132-1.76L32.44 142.277 30.23 125.51C5.908 111.003-4.74 80.48 6.418 53.538 15.67 31.204 37.266 17.72 60.025 17.72m0-2c-24.363 0-46.13 14.545-55.455 37.053-5.547 13.394-6.06 28.33-1.447 42.052 4.465 13.276 13.414 24.57 25.252 31.896l2.082 15.82c.092.708.557 1.31 1.217 1.585.246.104.506.152.766.152.434 0 .86-.142 1.217-.412l12.656-9.713c4.482 1.055 9.076 1.59 13.674 1.59 24.36 0 46.126-14.543 55.447-37.047 6.135-14.807 6.135-31.115.002-45.922C109.3 37.966 97.77 26.433 82.963 20.3c-7.34-3.04-15.06-4.58-22.938-4.58zM92.69 133.9c.165-.443.614-.683 1.064-.623l.004-.024c5.18.558 10.343.396 15.365-.414v2.034c-5.13.796-10.4.942-15.69.356l.002-.02c-.052-.01-.105-.006-.158-.023-.517-.193-.78-.768-.586-1.287z"/><path fill="#333" d="M100.877 133.604c4.41-.065 8.86-.633 13.268-1.746l13.416 10.295 2.208-16.77c24.324-14.505 34.976-45.03 23.814-71.97-9.248-22.33-30.832-35.81-53.584-35.82v.02c-2.072-.002-4.154.096-6.238.32l-.004-.024c-.45.058-.9-.18-1.064-.625-.194-.518.068-1.093.586-1.286.054-.02.107-.015.158-.026l-.002-.02c2.19-.24 4.377-.348 6.553-.35v-.01c24.36.004 46.12 14.545 55.443 37.054 5.55 13.393 6.062 28.327 1.447 42.05-4.465 13.28-13.414 24.57-25.252 31.897l-2.082 15.818c-.092.71-.557 1.312-1.217 1.586-.246.103-.506.15-.766.15-.435 0-.86-.14-1.218-.412l-12.655-9.713c-4.2.988-8.502 1.502-12.812 1.564l.002-1.986z"/><circle fill="#333" cx="60.019" cy="77" r="3.001"/><circle fill="#333" cx="76.018" cy="77" r="3"/><circle fill="#333" cx="44.019" cy="77" r="3.001"/></svg>

          <span>Community Docs</span>
        </a>
      </div>
    
  </div>
  <div class="sidebar-content">
    <div class="topcap">
      <span class="title-sidebar">Nativescript Docs</span>
      
        <span class="select version-sidebar nochrome">
          <select class="version-select">
            
              <option value="vlatest">latest</option>
            
              <option value="v2.2.0">2.2.0</option>
            
              <option value="v2.0.1">2.0.1</option>
            
          </select>
        </span>
      
    </div>
    <div class="slide-wrapper">
      <div class="toggle_radio">
        <input type="radio" class="toggle_option" id="first_toggle" name="toggle_option" onclick="switchCodeBlock('n');">
        <input type="radio" class="toggle_option" id="second_toggle" name="toggle_option" onclick="switchCodeBlock('ng');">
        <label for="first_toggle"><p>NativeScript</p></label>
        <label for="second_toggle" style="    margin-left: 110px;
    margin-top: -11px;"><p>Angular</p></label>
        <div class="toggle_option_slider"></div>
      </div>
    </div>
    
    <ul class="toc">
      
        <li>
          
          <ul class="list-toc">
            
              
                
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">UI</div>
          
          <ul class="list-toc">
            
              
                
                  <li class="item-toc ">
                    <a href="../../ui/animation-css.html" class="sidebar-link ">
                      <span>Animations with CSS</span>
                    </a>
                  </li>
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../ui/action-bar.html" class="sidebar-link ">
                      <span>ActionBar</span>
                    </a>
                  </li>
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../ui/animation-code.html" class="sidebar-link ">
                      <span>Animations with Code</span>
                    </a>
                  </li>
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../ui/animation-examples.html" class="sidebar-link ">
                      <span>Animation Examples</span>
                    </a>
                  </li>
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../ui/animation.html" class="sidebar-link ">
                      <span>Animations</span>
                    </a>
                  </li>
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../ui/keyboard.html" class="sidebar-link ">
                      <span>Keyboard</span>
                    </a>
                  </li>
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../ui/icon-fonts.html" class="sidebar-link ">
                      <span>Icon Fonts</span>
                    </a>
                  </li>
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../ui/gestures.html" class="sidebar-link ">
                      <span>Gestures</span>
                    </a>
                  </li>
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../ui/change-status-bar-style-ios.html" class="sidebar-link ">
                      <span>Changing Status Bar Style in iOS</span>
                    </a>
                  </li>
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../ui/layout-containers.html" class="sidebar-link ">
                      <span>Layout Containers</span>
                    </a>
                  </li>
                
            
              
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../ui/layouts.html" class="sidebar-link ">
                      <span>Layouts</span>
                    </a>
                  </li>
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../ui/list-view.html" class="sidebar-link ">
                      <span></span>
                    </a>
                  </li>
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../ui/placeholder.html" class="sidebar-link ">
                      <span>Placeholder</span>
                    </a>
                  </li>
                
            
              
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../ui/styling.html" class="sidebar-link ">
                      <span>Styling</span>
                    </a>
                  </li>
                
            
              
                
            
              
                
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">Cookbook</div>
          
          <ul class="list-toc">
            
              
                
                  <li class="item-toc ">
                    <a href="../../cookbook/formatted-string-ng.html" class="sidebar-link ">
                      <span>Using formatted string</span>
                    </a>
                  </li>
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../cookbook/tab-view-ng.html" class="sidebar-link ">
                      <span></span>
                    </a>
                  </li>
                
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">Hardware</div>
          
          <ul class="list-toc">
            
              
                
                  <li class="item-toc ">
                    <a href="../../hardware/camera.html" class="sidebar-link ">
                      <span>Camera</span>
                    </a>
                  </li>
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../hardware/location.html" class="sidebar-link ">
                      <span>Location</span>
                    </a>
                  </li>
                
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">Plugins</div>
          
          <ul class="list-toc">
            
              
                
                  <li class="item-toc ">
                    <a href="../../plugins/plugins.html" class="sidebar-link ">
                      <span>Infrastructure</span>
                    </a>
                  </li>
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../plugins/angular-third-party.html" class="sidebar-link ">
                      <span>Integrating Third-Party Components</span>
                    </a>
                  </li>
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../plugins/cocoapods.html" class="sidebar-link ">
                      <span>CocoaPods</span>
                    </a>
                  </li>
                
            
              
                
                  <li class="item-toc ">
                    <a href="../../plugins/ui-plugin.html" class="sidebar-link ">
                      <span>UI Plugins</span>
                    </a>
                  </li>
                
            
          </ul>
        </li>
      
    </ul>
  </div>
</div>

<div class="nav dark">
  <div class="nav-group">
    <div class="nav-item">
      <span class="js-sidebar-toggle">
        <span class="icon-menu"></span>
      </span>
    </div>
  </div>

  <div class="center-wrapper">
    <img src="../docs/images/logo-blue.svg" alt="Nativescript Docs"/>
    <div>API Docs</div>
  </div>

  
</div>

<div class="content">
  <div class="content-wrapper">
    <div class="header-content">
      <h1 class="title-page">Chapter 4—NativeScript Modules</h1>
      

      <div class="page-actions">
        <div class="actions-group">
          <a class="btn primary small round lowercase" href="https://github.com/nativescript/docs/tree/master/source/2.0.1/tutorial/chapter-4.md" target="_blank"> <i class="ion-social-github"></i> <span>Edit on GitHub</span></a>
          
        </div>
      </div>
    </div>

    <div class="document-formatting">
      <h1 id="Chapter-4—NativeScript-Modules"><a href="#Chapter-4—NativeScript-Modules" class="headerlink" title="Chapter 4—NativeScript Modules"></a>Chapter 4—NativeScript Modules</h1><p>In this chapter you’ll learn about NativeScript modules, which are the JavaScript modules in your app’s <code>node_modules/tns-core-modules</code> folder. Whether you’ve realized it or not, you’ve already used several NativeScript modules. This includes the modules you’ve brought in via <code>require()</code> (the view, frame and observable modules) and also the UI components you’ve been using in XML (the page, image, text field and button modules).</p>
<h2 id="Table-of-contents"><a href="#Table-of-contents" class="headerlink" title="Table of contents"></a>Table of contents</h2><ul>
<li><a href="#41-connecting-to-a-backend">4.1: Connecting to a backend</a></li>
<li><a href="#42-dialog-module">4.2: Dialog module</a></li>
<li><a href="#43-listview">4.3: ListView</a></li>
<li><a href="#44-working-with-arrays">4.4: Working with arrays</a></li>
<li><a href="#45-gridlayout">4.5: GridLayout</a></li>
<li><a href="#46-activityindicator">4.6: ActivityIndicator</a></li>
<li><a href="#47-animations">4.7: Animations</a></li>
</ul>
<p>If you dig into <code>node_modules/tns-core-modules</code> you can get an idea of how these modules work. Start by finding the <code>node_modules/tns-core-modules/camera</code> folder, which includes the implementation of the camera module. It includes:</p>
<ul>
<li>a <code>package.json</code> file that sets the name of the module;</li>
<li>a file containing the module’s Android implementation (<code>camera.android.js</code>);</li>
<li>a file containing the module’s iOS implementation (<code>camera.ios.js</code>);</li>
<li>a file containing code shared by the Android and iOS implementations (<code>camera-common.js</code>)</li>
</ul>
<blockquote>
<p><strong>NOTE</strong>: You can refer to the <a href="https://nodejs.org/api/modules.html#modules_folders_as_modules" target="_blank" rel="external">Node.js documentation on folders as modules</a> for more detailed information on how NativeScript organizes its modules.</p>
</blockquote>
<p>The *.ios.* and *.android.* naming convention should look familiar, as it’s the exact same convention we used to include Android- and iOS-specific styling in <a href="#24-css">chapter 2.4</a>. NativeScript uses this same convention to implement its modules on iOS and Android. Now that you know where these modules are, let’s take a closer look at what else they can do for your app.</p>
<h2 id="4-1-Connecting-to-a-backend"><a href="#4-1-Connecting-to-a-backend" class="headerlink" title="4.1: Connecting to a backend"></a>4.1: Connecting to a backend</h2><p>When you created your own account on the registration page, you probably noticed that data was magically going… somewhere. But there’s actually no magic involved; the register page invokes a RESTful API provided by <a href="http://www.telerik.com/backend-services" target="_blank" rel="external">Telerik Backend Services</a> to register the user for the Groceries service.</p>
<blockquote>
<p><strong>NOTE</strong>: You don’t have to use Telerik Backend Services to hit your backend service; you can use any HTTP API in a NativeScript app. Telerik Backend Services is convenient for us to use for this tutorial because it lets us spin up HTTP endpoints quickly.</p>
</blockquote>
<p>Take a look at <code>app/shared/config.js</code>. There’s only a small code snippet there, but it includes a hardcoded root path to the Groceries backend that the register page uses, and that you’ll be using momentarily:</p>
``` JavaScript
module.exports = {
    apiUrl: "https://api.everlive.com/v1/GWfRtXi1Lwt4jcqK/"
};
```
<blockquote>
<p><strong>TIP</strong>: <code>config.js</code> also shows a convenient pattern you can use for sharing configuration variables throughout your app.</p>
</blockquote>
<p>Next, take a look in the <code>app/shared/view-models</code> folder, which contains a few view models that we’ve pre-packaged into Groceries, and those view models contain the code to hit our backend. You can see this demonstrated in the <code>user-view-model.js</code> file’s <code>register()</code> function.</p>
<blockquote>
<p><strong>NOTE</strong>: In a larger app, it’s pretty common to place code that interacts with the backend in separate files, and not directly in the view models. But in our case, the connection code lives directly in the view model for simplicity—which is perfectly reasonable for small apps. </p>
</blockquote>
<p>Note that the <code>register()</code> function uses the config module to get the path to the backend, as well as the <a href="http://ns-docs.herokuapp.com/cookbook/fetch" target="_blank" rel="external">fetch module</a> to make HTTP calls.</p>
``` JavaScript
var config = require("../../shared/config");
var fetchModule = require("fetch");
```
<p>NativeScript’s fetch module uses the same API as the <a href="https://fetch.spec.whatwg.org/" target="_blank" rel="external">browser’s new fetch() API</a>. Therefore, if you already know how to use the web’s <code>fetch()</code> method, you already know how to make HTTP calls in NativeScript. Let’s look at how the fetch module works by adding another method to the user view model.</p>
<h4 class="exercise-start">
    <b>Exercise</b>: Complete the login in the view model
</h4>

<p>Open <code>app/shared/view-models/user-view-model.js</code> and paste the following code directly above the existing <code>viewModel.register()</code> function:</p>
``` JavaScript
viewModel.login = function() {
    return fetchModule.fetch(config.apiUrl + "oauth/token", {
        method: "POST",
        body: JSON.stringify({
            username: viewModel.get("email"),
            password: viewModel.get("password"),
            grant_type: "password"
        }),
        headers: {
            "Content-Type": "application/json"
        }
    })
    .then(handleErrors)
    .then(function(response) {
        return response.json();
    })
    .then(function(data) {
        config.token = data.Result.access_token;
    });
};
```
<div class="exercise-end"></div>

<p>Let’s break down what the code you just pasted in does.</p>
<ul>
<li><p>You use the fetch module’s <code>fetch()</code> method to POST data to the <code>apiUrl</code> stored in <code>shared/config.js</code>. The username, password and grant_type are sent to this endpoint as a JSON string. (Telerik Backend Services <a href="http://docs.telerik.com/platform/backend-services/development/rest-api/users/authenticate-user" target="_blank" rel="external">requires a grant_type parameter</a> for logins.)</p>
</li>
<li><p>The <code>fetch()</code> method returns a <code>Promise</code>, which allows you to execute code after the asynchronous login either completes successfully or fails. You use this functionality to do three things (the three <code>then()</code> handlers).</p>
<ul>
<li>First, you handle any errors in the HTTP response with a <code>handleErrors()</code> function defined at the bottom of <code>user-view-model.js</code>. (If you want more details on how handling HTTP response errors with <code>fetch()</code> works check out <a href="http://tjvantoll.com/2015/09/13/fetch-and-errors/" target="_blank" rel="external">this article</a>.)</li>
<li>Next, you convert the returned data into JSON by calling the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response" target="_blank" rel="external"><code>Response</code></a> object’s <code>json()</code> method.</li>
<li>Finally, you save a reference to the user’s authentication token in the config module. You’ll use that token on subsequent HTTP requests later in this guide.</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>TIP</strong>:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="external">Promises</a> are a part of ECMAScript 6 (the scripting language of which JavaScript is an implementation). Because Promises have been implemented in the two JavaScript engines NativeScript uses—V8 for Android and JavaScriptCore for iOS—Promises are available for use in NativeScript apps.</li>
<li>NativeScript makes <code>fetch()</code> available as a global variable for convenience. This means you can replace <code>fetchModule.fetch()</code> with <code>fetch()</code>. The global <code>fetch()</code> shortcut will be used for the remainder of this guide.</li>
</ul>
</blockquote>
<p>With this code in place let’s return to <code>login.js</code> to use this new function.</p>
<h4 class="exercise-start">
    <b>Exercise: Add UserViewModel to the login code-behind</b>
</h4>

<p>In <code>login.js</code>, at the top of the file, add the following reference to <code>shared/view-models/user-view-model</code>:</p>
``` JavaScript
var UserViewModel = require("../../shared/view-models/user-view-model");
```
<p>Remove the following five lines of code, as you’ll be using the <code>UserViewModel</code> instead of the <code>user</code> you added in the previous chapter.</p>
<div class="no-copy-button"></div>

``` JavaScript
var Observable = require("data/observable").Observable;
var user = new Observable({
    email: "user@domain.com",
    password: "password"
});
```
<p>Next, add the following line of code after the <code>var UserViewModel = require(...)</code> line:</p>
``` JavaScript
var user = new UserViewModel();
```
<p>Finally, replace the <code>exports.signIn()</code> function with the code below:</p>
``` JavaScript
exports.signIn = function() {
    user.login();
};
```
<blockquote>
<p><strong>TIP</strong>: You can always view the completed codebase in the “end” branch of the <a href="https://github.com/NativeScript/sample-Groceries/tree/end" target="_blank" rel="external">sample-Groceries repo</a>.</p>
</blockquote>
<div class="exercise-end"></div>

<p>Take a moment to look at just how clean your code-behind file is now. The code-behind instantiates a view model (<code>UserViewModel</code>), and calls its <code>signIn()</code> method when the user taps the view’s sign in button. Because the view model is bound to the page’s two text fields (remember <code>{{ email }}</code> and <code>{{ password }}</code>), the view model already has the data it needs to perform the actual login.</p>
<p>And if you try running your app, and input your account’s credentials, you can indeed login, but… you don’t see anything. That’s because view models aren’t responsible for updating the UI. Instead the view model returns a <code>Promise</code> to let the code-behind handle the UI. (Remember that <code>fetch()</code> returns a <code>Promise</code>.) Let’s see how you can use that <code>Promise</code>, and introduce a new NativeScript module in the process.</p>
<h2 id="4-2-Dialog-module"><a href="#4-2-Dialog-module" class="headerlink" title="4.2: Dialog module"></a>4.2: Dialog module</h2><p>To utilize the <code>Promise</code> that the view model’s <code>login()</code> function returns, you need to handle two scenarios: what to do when the login works, and what to do when it doesn’t.</p>
<p>In the case of Groceries, when the login works you’re going to navigate the user to the list page, which you’ll be building momentarily, and which will let the user add and remove groceries from a list. To do the navigation you’ll use the same frame module you used earlier in this guide.</p>
<p>The trickier situation is handling login failures, and for that you’re going to use the dialog module. You can use this module to show <a href="!--￼41--&gt;/cookbook/ui/dialogs">several types</a> of popup UIs in your app, including action sheets, confirmation boxes, alert boxes, and prompts. It is a highly customizable module, and it lets you control the buttons in your alerts, their text, and the messaging in the alert itself. The dialog module’s code is in the <code>node_modules/tns-core-modules/ui</code> folder with other UI widgets. Let’s see how to use this widget on the login page.</p>
<h4 class="exercise-start">
    <b>Exercise</b>: Handle an error with a dialog window
</h4>

<p>Add the following line to the top of <code>login.js</code> to import the dialog module:</p>
``` JavaScript
var dialogsModule = require("ui/dialogs");
```
<p>Next, re-write your <code>signIn()</code> function to look like this:</p>
``` JavaScript
exports.signIn = function() {
    user.login()
        .catch(function(error) {
            console.log(error);
            dialogsModule.alert({
                message: "Unfortunately we could not find your account.",
                okButtonText: "OK"
            });
            return Promise.reject();
        })
        .then(function() {
            frameModule.topmost().navigate("views/list/list");
        });
};
```
<div class="exercise-end"></div>

<p>This code handles both a successful and unsuccessful login. On success, you call the frame module’s <code>navigate()</code> method to navigate the user to the (currently empty) list page. On failure, you use the dialog module to show the user an error message. Try inputting some invalid credentials to see what the dialog looks like.</p>
<p><img src="!--￼42--&gt;/img/cli-getting-started/nativescript/chapter4/ios/1.png" alt="login 8">
<img src="!--￼43--&gt;/img/cli-getting-started/nativescript/chapter4/android/1.png" alt="login 8"></p>
<p>With that, the login page is completely functional. Now that you have user management working in your NativeScript app, let’s move onto the page where users will manage their grocery list. To do that, you need a module that shows items in a list, which is exactly what the ListView module does.</p>
<blockquote>
<p><strong>TIP</strong>: From this point forward in the guide you’ll have to log in a lot, so you may find it helpful to hardcode your credentials in the app during development. The easiest way to do that is to pass an email address and password to the <code>UserViewModel()</code> constructor, for example:</p>
``` JavaScript
> var user = new UserViewModel({
>     email: "username@domain.com",
>     password: "password"
> });
> ```
</blockquote>
<h2 id="4-3-ListView"><a href="#4-3-ListView" class="headerlink" title="4.3: ListView"></a>4.3: ListView</h2><p>The ListView widget lets you show a list of things on the screen, which is exactly what you need for showing a list of groceries. Before tying the grocery list to a backend API, let’s start by seeing how to show a hardcoded list of items on the screen.</p>
<h4 class="exercise-start">
    <b>Exercise</b>: Construct the list view
</h4>

<p>Open <code>app/views/list/list.xml</code> and paste in the code below, which creates the list where your groceries will reside:</p>
``` XML
<page loaded="loaded">
    <gridlayout>
        <listview items="{% raw %}{{ groceryList }}{% endraw %}“&gt;
            <ListView.itemTemplate>
                <Label text=" {%="" raw="" %}{{="" name="" }}{%="" endraw="" %}"="" horizontalalignment="left" verticalalignment="center">
            
        </listview>
    </gridlayout>
</page>
```
<div class="exercise-end"></div>

<blockquote>
<p><strong>NOTE</strong>: Notice that this page is going to use a <code>&lt;GridLayout&gt;</code> to layout the UI components on the screen. As you add more UI components, you’ll start dividing the screen into rows and columns, but for now you’re just going to let the <code>&lt;ListView&gt;</code> take up the full screen (which is the default behavior of a <code>&lt;GridLayout&gt;</code> with no attributes).</p>
</blockquote>
<p>As discussed earlier, even though you’re using <code>&lt;ListView&gt;</code> in XML, the ListView module is still a NativeScript module. You can find its implementation in the <code>node_modules/tns-core-modules/ui/list-view</code> folder. If you want to, you could construct a ListView in pure JavaScript code in the code-behind file as shown in <a href="!--￼44--&gt;/cookbook/ui/list-view">this example</a>. For most situations using the NativeScript UI modules in XML is easier, so we’ll be sticking with XML usage throughout this tutorial.</p>
<p>Note the use of <code>&lt;ListView.itemTemplate&gt;</code>. This tag gives you the ability to control how each of the ListView’s items displays within the list. For now you’re using a simple <code>&lt;Label&gt;</code> UI component to display the <code>{{ name }}</code> of each grocery.</p>
<p>If you run this code as is, you won’t see any items in the grocery list. First you need to build out a way to manage data within the ListView module, and to do that you’re going to need a new NativeScript module: the ObservableArray.</p>
<h2 id="4-4-Working-with-arrays"><a href="#4-4-Working-with-arrays" class="headerlink" title="4.4: Working with arrays"></a>4.4: Working with arrays</h2><p>In the previous section of this guide you saw how to create observables and how to use them to connect XML views with code-behind files and view models. You’re going to do the same thing in this section with one additional twist, and it involves making this <code>items</code> attribute work:</p>
``` XML
<listview items="{% raw %}{{ groceryList }}{% endraw %}“&gt;
```
<p>The ListView module’s <code>items</code> attribute takes an array, and to create that array on the view model, NativeScript provides a special ObservableArray module. To see how it works, let’s start building the list page’s code-behind file.</p>
<h4 class=" exercise-start"="">
    <b>Exercise</b>: Populate the list view


<p>Open <code>app/views/list/list.js</code> and paste in the following code:</p>
``` JavaScript
var dialogsModule = require("ui/dialogs");
var Observable = require("data/observable").Observable;
var ObservableArray = require("data/observable-array").ObservableArray;
var viewModule = require("ui/core/view");
var page;

var pageData = new Observable({
    groceryList: new ObservableArray([
        { name: "eggs" },
        { name: "bread" },
        { name: "cereal" }
    ])
});

exports.loaded = function(args) {
    page = args.object;
    page.bindingContext = pageData;
};
```
<div class="exercise-end"></div>

<p>Here, you’re creating a new Observable object called <code>pageData</code>, which you set as the page’s <code>bindingContext</code> in the <code>load()</code> function. Inside the Observable, you set a single <code>&quot;groceryList&quot;</code> property to be a new instance of the ObservableArray class. Notice how the <code>&quot;groceryList&quot;</code> property corresponds to <code>&lt;ListView items=&quot;{{ groceryList }}&quot;&gt;</code>, and each array entry’s <code>&quot;name&quot;</code> property corresponds to <code>&lt;Label text=&quot;{{ name }}&quot;&gt;</code>. If you run your app you’ll see the list screen shows the hardcoded data:</p>
<p><img src="!--￼45--&gt;/img/cli-getting-started/nativescript/chapter4/ios/2.png" alt="list 1">
<img src="!--￼46--&gt;/img/cli-getting-started/nativescript/chapter4/android/2.png" alt="list 1"></p>
<p>Now that we have items on the screen let’s look at how you can tie this list to a backend instead of hardcoded data. To do so you’ll switch the list page to use a view model, much like you did with the login page.</p>
<p>A starting view model for this page is already in the file at <code>app/shared/view-models/grocery-list-view-model.js</code>, which contains code that looks a lot like what you already have in <code>list.js</code>:</p>
``` JavaScript
var config = require("../../shared/config");
var fetchModule = require("fetch");
var ObservableArray = require("data/observable-array").ObservableArray;

function GroceryListViewModel(items) {
    var viewModel = new ObservableArray(items);
    return viewModel;
}

module.exports = GroceryListViewModel;
```
<p>Let’s expand on this to tie this view model to a backend.</p>
<h4 class="exercise-start">
    <b>Exercise</b>: Populate a list view from a backend
</h4>

<p>You’re going to start by changing <code>list.js</code> to use the <code>GroceryListViewModel</code>. First, <code>require()</code> the <code>GroceryListViewModel</code> so you can use it:</p>
``` JavaScript
var GroceryListViewModel = require("../../shared/view-models/grocery-list-view-model");
```
<p>Next, remove the existing <code>var pageData</code> assignment:</p>
<div class="no-copy-button"></div>

``` JavaScript
// Remove these seven lines of code
var pageData = new Observable({
    groceryList: new ObservableArray([
        { name: "eggs" },
        { name: "bread" },
        { name: "cereal" }
    ])
});
```
<p>And add the code below in the same location:</p>
``` JavaScript
var groceryList = new GroceryListViewModel([]);
var pageData = new Observable({
    groceryList: groceryList
});
```
<p>Finally, replace the existing <code>exports.loaded()</code> function with the one below, which calls two new methods on the view model—<code>empty()</code> and <code>load()</code>.</p>
``` JavaScript
exports.loaded = function(args) {
    page = args.object;
    page.bindingContext = pageData;

    groceryList.empty();
    groceryList.load();
};
```
<p>In this code, <code>groceryList</code> is referencing the grocery list model, and the <code>load()</code> function empties the list, and then calls the view model’s <code>load()</code> function to reload the data from the backend.</p>
<p>The last piece to make this work is actually implementing the <code>empty()</code> and <code>load()</code> functions in the view model. Open <code>app/shared/view-models/grocery-list-view-model.js</code>, and paste the following code between the <code>var viewModel</code> assignment, and the <code>return viewModel</code> statement.</p>
``` JavaScript
viewModel.load = function() {
    return fetch(config.apiUrl + "Groceries", {
        headers: {
            "Authorization": "Bearer " + config.token
        }
    })
    .then(handleErrors)
    .then(function(response) {
        return response.json();
    }).then(function(data) {
        data.Result.forEach(function(grocery) {
            viewModel.push({
                name: grocery.Name,
                id: grocery.Id
            });
        });
    });
};

viewModel.empty = function() {
    while (viewModel.length) {
        viewModel.pop();
    }
};
```
<div class="exercise-end"></div>

<p>The code to make an HTTP call should look familiar, as it leverages the same fetch module you used in the previous section. Here, the fetch module’s first <code>then()</code> handler checks for HTTP errors, the second <code>then()</code> handler converts the data from the response into JSON format, and the third handler pushes each grocery item from the response into the ObservableArray.</p>
<p>If you load the app and log in with email address “user@nativescript.org” and password “password”, you should see a list of groceries that looks something like this:</p>
<p><img src="!--￼47--&gt;/img/cli-getting-started/nativescript/chapter4/ios/3.png" alt="list 2">
<img src="!--￼48--&gt;/img/cli-getting-started/nativescript/chapter4/android/3.png" alt="list 2"></p>
<p>The cool thing here is the code you didn’t have to write. Notice that there is no need to refresh the UI, or manually access the ListView UI component—all the view model does is push the JSON response to the ObservableArray, and the UI takes care of itself.</p>
<p>Let’s see how you can build on top of this and enable users to add to their grocery list directly from the app.</p>
<h2 id="4-5-GridLayout"><a href="#4-5-GridLayout" class="headerlink" title="4.5: GridLayout"></a>4.5: GridLayout</h2><p>You already know how to add items to a <code>&lt;ListView&gt;</code>, because you just did so in the previous section—all you need to do is call the ObservableArray module’s <code>push()</code> method.</p>
<p>To give the user the ability to manage their grocery list you’re going to have to put some more UI components on the screen, and to do that you’re going to need to divide the screen into rows and columns using the <code>&lt;GridLayout&gt;</code> UI component.</p>
<h4 class="exercise-start">
    <b>Exercise</b>: Implement the ability to add groceries to the list
</h4>

<p>Open <code>app/views/list/list.xml</code> and change the <code>&lt;GridLayout&gt;</code> tag to use the code below:</p>
``` XML
<gridlayout rows="auto, *" columns="2*, *">
```
<p>The <code>rows</code> attribute divides the screen into two rows, the first auto-sized according to its childrens’ height, and the other to contain *, or the remaining height of the screen. The <code>columns</code> attribute divides the screen into two columns, where the first column takes up 2/3 of the screen, and the second takes up the remaining third.</p>
<p>Next, to give the user a means of adding groceries to the list, add a text field and a button to the page. Add these two lines of code directly after the initial <code>&lt;GridLayout&gt;</code> tag:</p>
``` XML
<textfield id="grocery" text="{% raw %}{{ grocery }}{% endraw %}“ hint=”Enter a grocery item” row=”0” col=”0” /&gt;
<Button text=" add"="" tap="add" row="0" col="1">
```
<p>The text field has an id attribute of <code>&quot;grocery&quot;</code>, and is bound to the <code>{{ grocery }}</code> property of the page’s binding context. The button’s <code>tap</code> event refers to an <code>add()</code> function, that you’ll add to the code-behind file momentarily.</p>
<p>But the most important thing to note here is the use of the <code>row</code> and <code>col</code> attributes. These attributes are zero-based, so the text field’s <code>row=&quot;0&quot; col=&quot;0&quot;</code> attributes place it in the first row and first column, whereas the button’s <code>row=&quot;0&quot; col=&quot;1&quot;</code> attributes place it in the first row and second column.</p>
<p>Finally, replace the <code>&lt;ListView&gt;</code> tag with the code below to place it in the second row, to have it span both columns, and also to give it an <code>id</code> attribute that you’ll need later.</p>
``` XML
<listview items="{% raw %}{{ groceryList }}{% endraw %}“ id=”groceryList” row=”1” colSpan=”2”&gt;
```
<p>Now you just need to make the necessary changes to the code-behind file to support these XML changes. Open <code>list.js</code> and start by adding a new <code>&quot;grocery&quot;</code> property to the <code>pageData</code> Observable. The <code>pageData</code> assignment should look like this:</p>
``` JavaScript
var pageData = new Observable({
    groceryList: groceryList,
    grocery: " "="" });="" ```="" <p="">Next, you need to add an <code>add()</code> function to handle the button tap event. Paste in the following code at the bottom of <code>list.js</code>:<p></p>
``` JavaScript
exports.add = function() {
    // Check for empty submissions
    if (pageData.get("grocery").trim() === "") {
        dialogsModule.alert({
            message: "Enter a grocery item",
            okButtonText: "OK"
        });
        return;
    }

    // Dismiss the keyboard
    page.getViewById("grocery").dismissSoftInput();
    groceryList.add(pageData.get("grocery"))
        .catch(function() {
            dialogsModule.alert({
                message: "An error occurred while adding an item to your list.",
                okButtonText: "OK"
            });
        });

    // Empty the input field
    pageData.set("grocery", "");
};
```
<p>In this function, you first ensure the user didn’t submit without typing a grocery. If the user did type something, you dismiss the device’s keyboard, then you get the <code>&quot;grocery&quot;</code> property from the page’s binding context (which is bound to the new <code>&lt;TextField&gt;</code>), and pass that value to the view model’s <code>add()</code> function.</p>
<p>Finally, define that <code>add()</code> function. To do so, open <code>app/shared/view-models/grocery-list-view-model.js</code> and paste the following function under the <code>empty()</code> function, but before the <code>return viewModel</code> statement.</p>
``` JavaScript
viewModel.add = function(grocery) {
    return fetch(config.apiUrl + "Groceries", {
        method: "POST",
        body: JSON.stringify({
            Name: grocery
        }),
        headers: {
            "Authorization": "Bearer " + config.token,
            "Content-Type": "application/json"
        }
    })
    .then(handleErrors)
    .then(function(response) {
        return response.json();
    })
    .then(function(data) {
        viewModel.push({ name: grocery, id: data.Result.Id });
    });
};
```
<div class="exercise-end"></div>

<p>If you build and rerun your app, you’ll find that you can add a grocery item and it will appear immediately in your list—and, all of this is completely driven by a backend service. Pretty cool, huh?</p>
<p><img src="!--￼49--&gt;/img/cli-getting-started/nativescript/chapter4/ios/4.gif" alt="list 3">
<img src="!--￼50--&gt;/img/cli-getting-started/nativescript/chapter4/android/4.gif" alt="list 3"></p>
<p>Let’s look at how you can polish this page with a NativeScript module for showing activity indicators.</p>
<h2 id="4-6-ActivityIndicator"><a href="#4-6-ActivityIndicator" class="headerlink" title="4.6: ActivityIndicator"></a>4.6: ActivityIndicator</h2><p>Currently there’s a bit of a delay when you first visit the list page before groceries appear. This delay could confuse a new user, who might think the app is stuck rather than retrieving data from a backend.</p>
<p>In NativeScript apps you can use the ActivityIndicator module to show a spinner icon in your UI while your app is busy performing actions. The ActivityIndicator is a relatively simple UI element as it primarily uses one attribute—<code>busy</code>. When an ActivityIndicator’s <code>busy</code> attribute is set to <code>true</code> the ActivityIndicator shows, and when its <code>busy</code> attribute is set to <code>false</code> it doesn’t. Let’s see how the module works by adding an ActivityIndicator to the list page.</p>
<h4 class="exercise-start">
    <b>Exercise</b>: Add an ActivityIndicator
</h4>

<p>Open <code>app/views/list/list.xml</code> and add the following element directly before the closing <code>&lt;/GridLayout&gt;</code> tag.</p>
``` XML
<activityindicator busy="{% raw %}{{ isLoading }}{% endraw %}“ rowSpan=”2” colSpan=”2” /&gt;
```
<p>Then, in <code>app/views/list/list.js</code>, replace the existing <code>groceryList.load()</code> call in <code>loaded()</code> with the following four lines of code:</p>
``` JavaScript
pageData.set(" isloading",="" true);="" grocerylist.load().then(function()="" {="" pagedata.set("isloading",="" false);="" });="" ```="" <div="" class="exercise-end">

<p>In the code above you add a new <code>&quot;isLoading&quot;</code> flag to the list page’s Observable, and then bind the ActivityIndicator’s <code>busy</code> attribute to that value. You set the initial value of the <code>&quot;isLoading&quot;</code> flag to <code>true</code> in the list page’s <code>loaded()</code> function, which shows the ActivityIndicator. When the grocery list finishes loading, you flip the <code>&quot;isLoading&quot;</code> flag back to <code>false</code>, which hides the ActivityIndicator.</p>
<p>You control where the ActivityIndicator displays by setting its <code>rowSpan</code> and <code>colSpan</code> attributes. In this case <code>rowSpan=&quot;2&quot; colSpan=&quot;2&quot;</code> makes the ActivityIndicator take up both rows and both columns of its parent GridLayout. Here’s what the new ActivityIndicator looks like:</p>
<p><img src="!--￼51--&gt;/img/cli-getting-started/nativescript/chapter4/ios/5.gif" alt="ActivityIndicator on iOS">
<img src="!--￼52--&gt;/img/cli-getting-started/nativescript/chapter4/android/5.gif" alt="ActivityIndicator on Android"></p>
<p>The list page is now more user friendly, but we can improve the experience with one of the more powerful NativeScript modules: the animation module.</p>
<h2 id="4-7-Animations"><a href="#4-7-Animations" class="headerlink" title="4.7: Animations"></a>4.7: Animations</h2><p>The ability to run robust and performant animations is the one of the biggest reasons people choose to build native mobile apps, and NativeScript makes running these animations simple. The NativeScript animation modules provides a <a href="!--￼53--&gt;/ui/animation">series of JavaScript APIs</a> that let you perform a wide variety of animations to elements on the screen, including the following:</p>
<ul>
<li><a href="!--￼54--&gt;/ui/animation#opacity">Opacity</a></li>
<li><a href="!--￼55--&gt;/ui/animation#background-color">Background Color</a></li>
<li><a href="!--￼56--&gt;/ui/animation#translate">Translations</a></li>
<li><a href="!--￼57--&gt;/ui/animation#scale">Scaling</a></li>
<li><a href="!--￼58--&gt;/ui/animation#rotate">Rotating</a></li>
</ul>
<p>For our list page you’re going to use an <a href="!--￼59--&gt;/ui/animation#opacity">opacity animation</a> to fade in your grocery list after your data loads. Let’s add in the code and then discuss how it all works.</p>
<h4 class="exercise-start">
    <b>Exercise</b>: Add an animation
</h4>

<p>Open <code>app/views/list/list.css</code> and add an <code>opacity: 0</code> rule to the existing <code>ListView</code> selector. The full set of rules should look like this:</p>
``` CSS
ListView {
    margin: 5;
    opacity: 0;
}
```
<p>Then, in <code>app/views/list/list.js</code>, replace the existing <code>exports.loaded()</code> function with the code below, which does two new things: gets a reference to the <code>&lt;ListView&gt;</code> (<code>page.getViewById(&quot;groceryList&quot;)</code>), and then calls that element’s <code>animate()</code> function after the <code>groceryList.load()</code> call completes.</p>
``` JavaScript
exports.loaded = function(args) {
    page = args.object;
    var listView = page.getViewById("groceryList");
    page.bindingContext = pageData;

    groceryList.empty();
    pageData.set("isLoading", true);
    groceryList.load().then(function() {
        pageData.set("isLoading", false);
        listView.animate({
            opacity: 1,
            duration: 1000
        });
    });
};
```
<div class="exercise-end"></div>

<p>A few things are happening in the code above.</p>
<p>First, in CSS, you assign an <code>opacity</code> of <code>0</code> to the grocery list <code>&lt;ListView&gt;</code>. This hides the grocery list completely when the page loads. Next, in JavaScript, after the <code>groceryList.load()</code> call completes, you call the list view’s <code>animate()</code> function. This changes the element’s <code>opacity</code> from <code>0</code> (completely hidden) to <code>1</code> (completely visible) over one full second.</p>
<blockquote>
<p><strong>NOTE</strong>: The animation function’s <code>duration</code> property takes a time in milliseconds. Therefore, <code>1000</code> equates to one second.</p>
</blockquote>
<p>The result of this code is a nice fade-in animation:</p>
<p><img src="!--￼60--&gt;/img/cli-getting-started/nativescript/chapter4/ios/6.gif" alt="Animations on iOS">
<img src="!--￼61--&gt;/img/cli-getting-started/nativescript/chapter4/android/6.gif" alt="Animations on Android"></p>
<p>The animation module is a lot of fun to play with, and it’s easy to use too. All you need to do is get a reference to an element using <code>getViewById()</code>, and then call that element’s <code>animate</code> method. You may want to take a few minutes to look through our <a href="!--￼62--&gt;/ui/animation#examples">animation samples</a> and try a few of these animations for yourself in Groceries.</p>
<p>Now that you have the login, registration, and list pages complete, let’s enhance the app’s functionality as a grocery list management tool. In the next chapters you’ll add functionality such as email validation, social sharing, and more. And you’ll use one of NativeScript’s most useful features to do so: npm modules.</p>
<blockquote>
<p><strong>TIP</strong>: There are several modules that come out of the box with your NativeScript installation that we did not have time to cover in this guide—including a <a href="!--￼63--&gt;/cookbook/location">location service</a>, a <a href="!--￼64--&gt;/cookbook/file-system">file-system helper</a>, a <a href="!--￼65--&gt;/cookbook/timer">timer module</a>, a <a href="!--￼66--&gt;/cookbook/camera">camera module</a>, a <a href="!--￼67--&gt;/cookbook/color">color module</a>, and a whole lot more. Make sure to peruse the “Modules API” of the docs, or just look around <code>node_modules/tns-core-modules</code> to see all of what’s available.</p>
</blockquote>
<div class="next-chapter-link-container">
  <a href="/tutorial/chapter-5">Continue to Chapter 5—Plugins and npm Modules</a>
</div>
</activityindicator></listview></textfield></gridlayout></listview>
    </div>
  </div>

  <div class="pagination">
    <div class="content-wrapper">
      
      
        <a class="link primary prev"
          href="../../2.2.0/tutorial/ng-chapter-2.html">
          <span class="icon-arrow-left-alt"></span>
          <span class="subtitle-pagination">Previous</span>
          Chapter 2—Building the UI
        </a>
      
      
        <a class="link primary next"
          href="../../2.2.0/tutorial/ng-chapter-0.html">
          <span class="subtitle-pagination">Next</span>
          Building Apps with NativeScript and Angular 2
          <span class="icon-arrow-right-alt"></span>
        </a>
      
    </div>
  </div>

  <div class="github">
    <a class="link tertiary " href="https://github.com/nativescript/docs/tree/master/source/2.0.1/tutorial/chapter-4.md" target="_blank">
      <span class="icon-github"></span>Edit on GitHub</a>
  </div>

  
</div>

    <script src="/script/smooth-scroll.min.js"></script>
    <script src="/script/main.js"></script>

    <script>

     
      

      // search box
      

        function toggleFrontEndVar(value) {
          console.log(value + " Clicked");
          hexo.locals.set('front_end', value);
        }

      
    </script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script>
    $( ".sidebar-content" ).scrollTop( 0 );
    </script>
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
    <script src="/script/code-block.js"></script>
    <script src="/script/code-environment.js"></script>
  </body>
</html>
